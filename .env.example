# AcmeShop Analytics ETL Configuration
# Copy this file to .env and update values for your environment

# Database Configuration
DATABASE_URL=postgresql://analytics:password@localhost:5432/acme_analytics
SOURCE_DATABASE_URL=postgresql://readonly:password@localhost:5432/acme_production

# Feature Flags
# TODO(TEAM-PLATFORM): Disable legacy flags after migration complete
ENABLE_LEGACY_ETL=true
ENABLE_V1_SCHEMA=true

# Airflow Configuration
AIRFLOW_HOME=/opt/airflow
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql://airflow:airflow@localhost:5432/airflow

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=structured  # Options: legacy, structured

# ETL Configuration
ETL_BATCH_SIZE=1000
ETL_MAX_RETRIES=3
ETL_RETRY_DELAY_SECONDS=60

# PII Configuration
# TODO(TEAM-SEC): Ensure PII_ENCRYPTION_KEY is set in production
PII_ENCRYPTION_KEY=
PII_TOKENIZATION_SALT=

# Correlation Headers (for distributed tracing)
# TODO(TEAM-API): Migrate from X-Legacy-User-Id to X-User-Id
CORRELATION_HEADER=X-Acme-Request-ID
LEGACY_USER_ID_HEADER=X-Legacy-User-Id
USER_ID_HEADER=X-User-Id
